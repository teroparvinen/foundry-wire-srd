{"name":"Divine Smite","type":"feat","img":"icons/skills/melee/weapons-crossed-swords-yellow-teal.webp","effects":[{"_id":"4y05zgd5g3felt7d","changes":[{"key":"system.bonuses.mwak.damage","mode":2,"value":"+((@config.spellLevel+1)d8)[radiant]","priority":20},{"key":"system.bonuses.mwak.damage","mode":2,"value":"+((@target.type.undead+@target.type.fiend)d8)[radiant]","priority":20}],"disabled":false,"duration":{"startTime":null,"seconds":null,"combat":null,"rounds":null,"turns":null,"startRound":null,"startTurn":null},"icon":"icons/skills/melee/weapons-crossed-swords-yellow-teal.webp","label":"Divine Smite","origin":"Actor.9z8mm9ZzK1lsUOub.Item.f6sy589u28inh9u2","transfer":false,"flags":{"wire":{"applyOnSaveOrMiss":false,"applicationType":"immediate","conditions":[{"condition":"target-hits.mwak","update":"end"}],"independentDuration":false,"blocksAreaConditions":false}},"tint":null}],"folder":null,"sort":0,"flags":{"dnd5e":{"sourceId":"Compendium.dnd5e.classfeatures.ySMPQ6zNSlvkrl2f","advancementOrigin":"is86kr9rdya0aupp.xy3wlxtiwbplsms7"},"favtab":{"isFavorite":false},"itemacro":{"macro":{"_id":null,"name":"Divine Smite","type":"script","author":"LAWy3XSFb3EiTu7c","img":"icons/svg/dice-target.svg","scope":"global","command":"this.skipConfigurationDialog();\nthis.requestCustomConfiguration(async (item, requirements) => {\n    const actor = item.actor;\n    const maxSpellSlot = 4;\n\n    function getSpellSlots(level) {\n        return actor.system.spells[`spell${level}`];\n    }\n\n    console.log(\"About to smite\");\n\n    const { consumeSlot, spellLevel } = await new Promise(async (resolve, reject) => {\n        // Get options for available slots\n        let optionsText = \"\";\n        for (let i = 1; i <= maxSpellSlot; i++) {\n            const slots = getSpellSlots(i);\n            if (slots.value > 0) {\n                const level = CONFIG.DND5E.spellLevels[i];\n                const label = game.i18n.format('DND5E.SpellLevelSlot', { level: level, n: slots.value });\n                optionsText += `<option value=\"${i}\">${label}</option>`;\n            }\n        }\n        await new Dialog({\n            title: \"Divine Smite: Usage Configuration\",\n            content: `\n                <form id=\"smite-use-form\">\n                    <p>` + game.i18n.format(\"DND5E.AbilityUseHint\", { name: \"Divine Smite\", type: \"feature\" }) + `</p>\n                    <div class=\"form-group\">\n                        <label>Spell Slot Level</label>\n                        <div class=\"form-fields\">\n                            <select name=\"slot-level\">` + optionsText + `</select>\n                        </div>\n                    </div>\n                    <div class=\"form-group\">\n                        <label class=\"checkbox\">\n                        <input type=\"checkbox\" name=\"consumeCheckbox\" checked/>` + game.i18n.localize(\"DND5E.SpellCastConsume\") + `</label>\n                    </div>\n                </form>\n                `,\n            buttons: {\n                smite: {\n                    icon: '<i class=\"fas fa-bolt\"></i>',\n                    label: \"Smite\",\n                    callback: (html) => {\n                        const spellLevel = parseInt(html.find('[name=slot-level]')[0].value);\n                        const consumeSlot = html.find('[name=consumeCheckbox]')[0].checked;\n\n                        resolve({ consumeSlot, spellLevel });\n                    }\n                }\n            },\n            default: \"smite\"\n        }).render(true);\n    });\n\n    if (consumeSlot) {\n        requirements.doConsumeSpellSlot = true;\n        requirements.consumedSpellLevel = spellLevel;\n    }\n\n    return { spellLevel };\n});\n\nreturn this.applyDefaultTargetsAsEffective(\n    this.applyEffects()\n);","folder":null,"sort":0,"permission":{"default":0},"flags":{},"ownership":{"default":0},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}},"wire":{"checkedAbility":"","override":{"target":{"value":""}},"compendiumVersion":"0.10","compendiumSource":"wire-srd.classfeatures","saveImmunity":false}},"_id":"EbZxPlwPCL91TzsF","system":{"description":{"value":"<p>Starting at 2nd level, when you hit a creature with a melee weapon attack, you can expend one spell slot to deal radiant damage to the target, in addition to the weapon's damage.</p><p>The extra damage is 2d8 for a 1st-level spell slot, plus 1d8 for each spell level higher than 1st, to a maximum of 5d8. The damage increases by 1d8 if the target is an undead or a fiend.</p>","chat":"","unidentified":""},"source":"PHB pg. 85","activation":{"type":"special","cost":null,"condition":""},"duration":{"value":1,"units":"day"},"target":{"value":null,"width":null,"units":"","type":"self"},"range":{"value":null,"long":null,"units":""},"uses":{"value":null,"max":"","per":"","recovery":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"other","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":"1d8"},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"requirements":"Paladin 2","recharge":{"value":null,"charged":false}},"ownership":{"default":0,"m7gKrZnSC3XR8ToV":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":null,"modifiedTime":1671872147076,"lastModifiedBy":"m7gKrZnSC3XR8ToV"}}
{"name":"Fighting Style: Protection","type":"feat","img":"icons/magic/defensive/shield-barrier-deflect-gold.webp","effects":[{"label":"Target Protected","icon":"icons/magic/defensive/shield-barrier-deflect-gold.webp","origin":"Actor.fRkIgd5cHxEEE8tk.Item.gziczMbobAFmF57t","duration":{"startTime":null,"seconds":null,"combat":null,"rounds":null,"turns":null,"startRound":null,"startTurn":null},"disabled":false,"_id":"zGaVhhIoD5HH1OS6","changes":[{"key":"flags.wire.disadvantage.attack.all","mode":2,"value":"1","priority":20}],"tint":null,"transfer":false,"flags":{"wire":{"applyOnSaveOrMiss":false,"applicationType":"immediate","blocksAreaConditions":false,"auraTargets":"","stackEffects":false,"rollEffects":false,"independentDuration":false,"conditions":[{"condition":"target-attacks.all","update":"end"}]},"dae":{"specialDuration":[]}}}],"flags":{"srd5e":{"page":"optionalfeatures.html","source":"PHB","hash":"protection_phb"},"wire":{"override":{"target":{"value":"1"}},"compendiumSource":"wire-srd.classfeatures","compendiumVersion":"0.10.2"},"core":{"sourceId":"Actor.fRkIgd5cHxEEE8tk.Item.gziczMbobAFmF57t"}},"system":{"description":{"value":"<div>\n\t\t\t\t\n\t\t\t\t<div class=\"rd__b  rd__b--3\"><p>When a creature you can see attacks a target other than you that is within 5 feet of you, you can use your reaction to impose disadvantage on the attack roll. You must be wielding a shield.</p><div class=\"rd__spc-inline-post\"></div></div>\n\t\t\t</div>","chat":"","unidentified":""},"source":"PHB","activation":{"type":"reaction","cost":0,"condition":""},"duration":{"value":1,"units":"turn"},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":5,"long":null,"units":"ft"},"uses":{"value":0,"max":"0","per":"","recovery":"","type":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":"","value":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell","value":""},"requirements":"Paladin 2","recharge":{"value":null,"charged":false}},"ownership":{"default":0,"JNEafaiyE429jyEn":3,"BDWtlDQYkOI4gQqd":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673107822966,"modifiedTime":1673107822999,"lastModifiedBy":"BDWtlDQYkOI4gQqd"},"folder":null,"sort":0,"_id":"K2p4hpDUJHMO27Om"}
{"name":"Fighting Style: Two-Weapon Fighting","ownership":{"default":0,"m7gKrZnSC3XR8ToV":3},"type":"feat","system":{"description":{"value":"<p>When you engage in two-weapon fighting, you can add your ability modifier to the damage of the second attack.</p>","chat":"","unidentified":""},"source":"PHB pg. 72; 73; 91","activation":{"type":"","cost":0,"condition":""},"duration":{"value":"","units":""},"target":{"value":"","width":null,"units":"","type":""},"range":{"value":"","long":null,"units":""},"uses":{"value":null,"max":"","per":null,"recovery":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"requirements":"Fighter 1, Champion 10, Ranger 2","recharge":{"value":null,"charged":false}},"flags":{"wire":{"compendiumSource":"wire-srd.classfeatures","compendiumVersion":"0.10.1"}},"img":"icons/skills/melee/weapons-crossed-swords-white-blue.webp","effects":[{"label":"Two-Weapon Fighting","icon":"icons/skills/melee/weapons-crossed-swords-white-blue.webp","origin":"Item.KqT0Xk2hY7FMFYRO","duration":{"startTime":null,"seconds":null,"combat":null,"rounds":null,"turns":null,"startRound":null,"startTurn":null},"disabled":false,"_id":"AXXtn6tR3EUByrh8","changes":[{"key":"flags.wire.twoWeaponFighting","mode":2,"value":"1","priority":null}],"tint":null,"transfer":true,"flags":{"times-up":{},"wire":{"applyOnSaveOrMiss":false,"blocksAreaConditions":false,"auraTargets":"","applicationType":"immediate","independentDuration":false}}}],"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1661787234419,"modifiedTime":1670871880842,"lastModifiedBy":"m7gKrZnSC3XR8ToV"},"folder":null,"sort":0,"_id":"U71O324CSEWKWPBG"}
{"_id":"iy1MSs7EC0fDK8mK","name":"Aura of Protection","type":"feat","img":"icons/magic/air/wind-tornado-wall-blue.webp","effects":[{"_id":"2i731w4rw7j241mi","changes":[{"key":"system.bonuses.abilities.save","mode":2,"value":"+@abilities.cha.mod","priority":20},{"key":"wire.custom.tokenFX","mode":2,"value":"auraOfProtection","priority":20}],"disabled":false,"duration":{"startTime":null,"seconds":null,"combat":null,"rounds":null,"turns":null,"startRound":null,"startTurn":null},"icon":"icons/magic/air/wind-tornado-wall-blue.webp","label":"Aura of Protection","origin":"Actor.9z8mm9ZzK1lsUOub.Item.9imkhj8ukk53x9mj","transfer":true,"flags":{"wire":{"applyOnSaveOrMiss":false,"blocksAreaConditions":false,"applicationType":"immediate","independentDuration":false,"auraTargets":"ally"}},"tint":null}],"folder":null,"sort":0,"flags":{"dnd5e":{"sourceId":"Compendium.dnd5e.classfeatures.carGDhkIdoduTC0I","advancementOrigin":"is86kr9rdya0aupp.w3n62vbfeo3c7a90"},"wire":{"checkedAbility":"","override":{"target":{"value":"10"}},"compendiumVersion":"0.10","compendiumSource":"wire-srd.classfeatures"}},"system":{"description":{"value":"<p>Starting at 6th level, whenever you or a friendly creature within 10 feet of you must make a saving throw, the creature gains a bonus to the saving throw equal to your Charisma modifier (with a minimum bonus of +1). You must be conscious to grant this bonus.</p><p> At 18th level, the range of this aura increases to 30 feet.</p>","chat":"","unidentified":""},"source":"PHB pg. 85","activation":{"type":"none","cost":0,"condition":""},"duration":{"value":null,"units":""},"target":{"value":10,"width":null,"units":"ft","type":"radius"},"range":{"value":null,"long":null,"units":"self"},"uses":{"value":null,"max":"","per":"","recovery":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"requirements":"Paladin 6","recharge":{"value":null,"charged":false}},"ownership":{"default":0,"m7gKrZnSC3XR8ToV":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":null,"modifiedTime":1672123320717,"lastModifiedBy":"m7gKrZnSC3XR8ToV"}}
{"_id":"tYtt3XTjdL3ZnC4i","name":"Lay on Hands","type":"feat","img":"icons/magic/light/orbs-hand-gray.webp","effects":[],"folder":null,"sort":0,"flags":{"dnd5e":{"sourceId":"Compendium.dnd5e.classfeatures.OdrvL3afwLOPeuYZ","advancementOrigin":"is86kr9rdya0aupp.z2d0fxi8e24gradq"},"favtab":{"isFavorite":true},"itemacro":{"macro":{"_id":null,"name":"Lay on Hands","type":"script","author":"LAWy3XSFb3EiTu7c","img":"icons/svg/dice-target.svg","scope":"global","command":"this.skipConfigurationDialog();\nthis.requestCustomConfiguration(async (item, requirements) => {\n    const available = item.system.uses.value;\n    const { healing, conditions, uses } = await new Promise(async (resolve, reject) => {\n        await new Dialog({\n            title: \"Lay on Hands\",\n            content: `\n                <form id=\"lay-on-hands-use-form\">\n                    <div class=\"form-group\">\n                        <label>Points to use <span class=\"units\">(${available} available)</span></label>\n                        <div class=\"form-fields\">\n                        <input type=\"range\" name=\"lohrange\" id=\"lohpoints\" value=\"1\" min=\"1\" max=\"${available}\" step=\"1\" oninput=\"this.form.lohinput.value=this.value\" />\n                        <input class=\"range-value\" name=\"lohinput\" value=\"1\" oninput=\"this.form.lohrange.value=this.value\" style=\"width: 50px; background: transparent; font-family: var(--font-primary);\" />\n                        </div>\n                    </div>\n                    <div class=\"form-group\">\n                        <label class=\"checkbox\"><input type=\"checkbox\" id=\"consumelohuses\" checked=\"\">Consume Uses</label>\n                    </div>\n                </form>\n                `,\n            buttons: {\n                heal: {\n                    label: \"Heal\",\n                    callback: (html) => {\n                        const healing = Math.clamped(Math.floor(Number(html.find('#lohpoints')[0].value)), 0, available);\n                        const conditions = 0;\n                        const uses = html.find('#consumelohuses')[0].checked ? healing : 0;\n                        resolve({ healing, conditions, uses });\n                    }\n                },\n                cureDiseasePoison: {\n                    label: \"Disease/Poison\",\n                    callback: (html) => {\n                        const healing = 0;\n                        const conditions = Math.clamped(Math.floor(Number(html.find('#lohpoints')[0].value) / 5), 0, Math.floor(available / 5));\n                        const uses = html.find('#consumelohuses')[0].checked ? conditions * 5 : 0;\n                        resolve({ healing, conditions, uses });\n                    }\n                }\n            },\n            default: \"heal\",\n        }).render(true);\n    });\n\n    requirements.consumedUsageCount = uses;\n    requirements.skipDefaultDialog = true;\n\n    return {\n        healing,\n        conditions\n    };\n});\n\nthis.registerFlowStep(\"applyLayOnHands\", true, async (activation) => {\n    if (activation.config.healing) {\n        const damageParts = await game.wire.DamageParts.singleValue(activation.config.healing, \"healing\");\n        await activation.applyDamageRollParts(damageParts);\n    } else if (activation.config.conditions) {\n        const html = `Healing <b>${activation.config.conditions}</b> diseases or poisons`;\n        await activation.assignCustomHtml(html);\n    }\n});\n\nreturn this.applyDefaultTargetsAsEffective(\n    this.performCustomStep(\"applyLayOnHands\",\n        this.applyDamage()\n    )\n);","folder":null,"sort":0,"permission":{"default":0},"flags":{},"ownership":{"default":0},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}},"wire":{"checkedAbility":"","override":{"target":{"value":"1"}},"compendiumSource":"wire-srd.classfeatures","compendiumVersion":"0.10","saveImmunity":false}},"system":{"description":{"value":"<p>Your blessed touch can heal wounds. You have a pool of healing power that replenishes when you take a long rest. With that pool, you can restore a total number of hit points equal to your paladin level × 5.</p><p>As an action, you can touch a creature and draw power from the pool to restore a number of hit points to that creature, up to the maximum amount remaining in your pool.</p><p>Alternatively, you can expend 5 hit points from your pool of healing to cure the target of one disease or neutralize one poison affecting it. You can cure multiple diseases and neutralize multiple poisons with a single use of Lay on Hands, expending hit points separately for each one.</p><p>This feature has no effect on undead and constructs.</p>","chat":"","unidentified":""},"source":"PHB pg. 84","activation":{"type":"action","cost":1,"condition":"Target cannot be Undead or a Construct."},"duration":{"value":null,"units":""},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":null,"long":null,"units":"touch"},"uses":{"value":10,"max":"5 * @classes.paladin.levels","per":"lr","recovery":""},"consume":{"type":"","target":"","amount":6},"ability":"","actionType":"heal","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"requirements":"Paladin 1","recharge":{"value":null,"charged":false}},"ownership":{"default":0,"m7gKrZnSC3XR8ToV":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":null,"modifiedTime":1671877283219,"lastModifiedBy":"m7gKrZnSC3XR8ToV"}}
